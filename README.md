# Universal Translator 🌐

一个功能强大的浏览器扩展，旨在提供无缝的网页内容翻译体验。支持多种翻译服务，并提供灵活的配置选项，让您轻松翻译选定的文本或管理翻译设置。

## ✨ 主要特性

- **右键菜单翻译**：选中网页上的任何文本，通过右键菜单快速翻译。翻译结果将以浮窗形式显示在选定文本附近。
- **多翻译引擎支持**：
  - **DeepLx**：支持自定义 DeepLx API 地址。
  - **Google Translate**：通过 Google Cloud Translation API 进行翻译。
  - **AI Translator (GPT)**：支持 OpenAI 兼容的 API，可自定义 API 地址和模型名称。
- **连接测试**：在设置页面提供“测试连接”功能，帮助您验证翻译引擎的 API 配置是否正确。
- **灵活的设置页面**：
  - 选择偏好的翻译引擎。
  - 设置目标翻译语言。
  - 管理域名翻译规则（未来功能，目前代码中已移除相关逻辑以确保核心稳定）。
  - 导入/导出设置，方便备份和迁移。
- **友好的用户界面**：简洁直观的设置页面和翻译结果展示。

## 🚀 支持的翻译引擎

目前支持以下翻译引擎：

- **DeepLx**
- **Google Translate**
- **AI Translator (GPT)** (兼容 OpenAI API)

## 🛠️ 安装指南

### 开发模式下加载 (推荐用于测试和开发)

**请注意：** 这是一个开发中的扩展，不建议直接从未知来源安装到您的主浏览器。以下步骤适用于在开发模式下加载扩展进行测试。

#### 对于 Firefox

1.  打开 Firefox 浏览器。
2.  在地址栏输入 `about:debugging` 并回车。
3.  点击左侧菜单中的 **“此 Firefox”**。
4.  点击 **“加载临时附加组件...”** 按钮。
5.  导航到您的项目目录 (`firefox-chrome-translator/`)，然后选择 `manifest.json` 文件。
6.  扩展将作为临时附加组件加载，并在浏览器工具栏中显示其图标。

#### 对于 Chrome

1.  打开 Chrome 浏览器。
2.  在地址栏输入 `chrome://extensions` 并回车。
3.  打开右上角的 **“开发者模式”** 开关。
4.  点击 **“加载已解压的扩展程序”** 按钮。
5.  导航到您的项目目录 (`firefox-chrome-translator/`)，然后选择整个文件夹。
6.  扩展将加载并显示在您的扩展程序列表中。

## 💡 使用方法

### 1. 配置翻译引擎

1.  点击浏览器工具栏中的扩展图标，打开弹出窗口。
2.  点击弹出窗口底部的 **“选项”** 按钮，进入设置页面。
3.  在“通用设置”部分，选择您希望使用的 **“Translation Engine”**。
4.  根据所选引擎，填写相应的 **API URL** 或 **API Key**。
    - **DeepLx**：输入您的 DeepLx API 地址。
    - **Google Translate**：输入您的 Google Cloud Translation API Key。
    - **AI Translator**：输入您的 AI API Key，并可选地设置 API Endpoint URL 和 Model Name。
5.  点击 API 输入框旁边的 **“Test”** 按钮，验证您的配置是否正确。测试结果将以浮窗形式显示。
6.  设置 **“Target Language”** (例如 `ZH` 代表中文，`EN` 代表英文)。
7.  点击页面底部的 **“Save Settings”** 按钮保存您的配置。

### 2. 右键菜单翻译

1.  在任何网页上，选中您想要翻译的文本。
2.  右键点击选中的文本。
3.  在上下文菜单中，选择 **“使用通用翻译翻译 '您选中的文本...'”**。
4.  翻译结果将以一个带有箭头的小浮窗显示在选定文本的附近。
5.  点击浮窗右上角的 `×` 按钮可以关闭浮窗。

## ⚙️ 配置说明

- **Translation Engine**: 选择您偏好的翻译服务提供商。
- **API Keys/URLs**: 根据您选择的引擎，填写相应的认证信息。这些信息是进行翻译的凭证。
- **Target Language**: 设置您希望将文本翻译成的目标语言代码（例如 `ZH`、`EN`、`JA` 等）。
- **Display Mode**: (未来功能，目前未启用) 控制翻译结果的显示方式。
- **Domain Rules**: (未来功能，目前未启用) 设置特定域名下的翻译行为。

## 🤝 开发与贡献

如果您对这个项目感兴趣，并希望进行开发或贡献，请按照以下步骤操作：

1.  克隆本仓库到您的本地机器。
2.  根据上述“安装指南”中的步骤，在您的浏览器中加载扩展。
3.  修改代码后，在 `about:debugging` (Firefox) 或 `chrome://extensions` (Chrome) 页面点击扩展旁边的“重新加载”按钮，即可看到更改。

欢迎提交 Pull Request 或报告 Bug！

## 📄 许可证

本项目采用 MIT License 许可。

---

**感谢您使用 Universal Translator！**
